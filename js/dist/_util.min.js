/*! The One Plugin - 2023-02-03
* http://www.pluginscorner.com/
* Copyright (c) 2023 TheOnePlugin */
var CPT_PCUtils=CPT_PCUtils||{};CPT_PCUtils.util=CPT_PCUtils.util||{},CPT_PCUtils.globals=CPT_PCUtils.globals||{},CPT_PCUtils.views=CPT_PCUtils.views||{},CPT_PCUtils.models=CPT_PCUtils.models||{},CPT_PCUtils.collections=CPT_PCUtils.collections||{},_.templateSettings={evaluate:/<#([\s\S]+?)#>/g,interpolate:/<#=([\s\S]+?)#>/g,escape:/<#-([\s\S]+?)#>/g},CPT_PCUtils.util.template=function(t,e){t=jQuery("script#"+t.replace(/\//g,"-")).html()||"";return e?_.template(t)(e):_.template(t)},CPT_PCUtils.util.contains=function(t,e){return-1<t.indexOf(e)},CPT_PCUtils.util.clearMCEEditor=function(t,i){var e;"undefined"!=typeof tinymce&&tinymce&&("string"==typeof t?i!=t&&(e=tinymce.get(t))&&(e.destroy(),tinymce.execCommand("mceRemoveControl",!0,t)):t.forEach(function(t){var e;i!=t&&(e=tinymce.get(t))&&(e.destroy(),tinymce.execCommand("mceRemoveControl",!0,t))}))},CPT_PCUtils.util.build_mce_init=function(t,e){var i={},s={};return i[e]=jQuery.extend(!0,{},t.mce),s[e]=jQuery.extend(!0,{},t.qt),i[s[e].id=e].selector="#"+e,i[e].body_class=i[e].body_class.replace("CPT_PC-dummy-editor",e),{mce_init:i,qt_init:s}},CPT_PCUtils.util.materialize=function(t){t.find(".cpt-pc-collapsible").each(function(){jQuery(this).collapsible()}),t.find("select").not(".cpt-pc-browser-default").material_select(),t.find(".cpt-pc-dropdown-button").each(function(){jQuery(this).dropdown()}),t.find(".cpt-pc-tabs").each(function(){jQuery(this).tabs()}),t.find(".cpt-pc-tooltipped").each(function(){jQuery(this).tooltip({delay:50})}),Materialize.updateTextFields()},CPT_PCUtils.util.inflect={inflections:{plurals:[],singulars:[],uncountables:[],humans:[]},init:function(){this.plural(/$/,"s"),this.plural(/s$/i,"s"),this.plural(/(ax|test)is$/i,"$1es"),this.plural(/(octop|vir)us$/i,"$1i"),this.plural(/(alias|status)$/i,"$1es"),this.plural(/(bu)s$/i,"$1ses"),this.plural(/(buffal|tomat)o$/i,"$1oes"),this.plural(/([ti])um$/i,"$1a"),this.plural(/sis$/i,"ses"),this.plural(/(?:([^f])fe|([lr])f)$/i,"$1$2ves"),this.plural(/(hive)$/i,"$1s"),this.plural(/([^aeiouy]|qu)y$/i,"$1ies"),this.plural(/(x|ch|ss|sh)$/i,"$1es"),this.plural(/(matr|vert|ind)(?:ix|ex)$/i,"$1ices"),this.plural(/([m|l])ouse$/i,"$1ice"),this.plural(/^(ox)$/i,"$1en"),this.plural(/(quiz)$/i,"$1zes"),this.singular(/s$/i,""),this.singular(/(n)ews$/i,"$1ews"),this.singular(/([ti])a$/i,"$1um"),this.singular(/((a)naly|(b)a|(d)iagno|(p)arenthe|(p)rogno|(s)ynop|(t)he)ses$/i,"$1$2sis"),this.singular(/(^analy)ses$/i,"$1sis"),this.singular(/([^f])ves$/i,"$1fe"),this.singular(/(hive)s$/i,"$1"),this.singular(/(tive)s$/i,"$1"),this.singular(/([lr])ves$/i,"$1f"),this.singular(/([^aeiouy]|qu)ies$/i,"$1y"),this.singular(/(s)eries$/i,"$1eries"),this.singular(/(m)ovies$/i,"$1ovie"),this.singular(/(x|ch|ss|sh)es$/i,"$1"),this.singular(/([m|l])ice$/i,"$1ouse"),this.singular(/(bus)es$/i,"$1"),this.singular(/(o)es$/i,"$1"),this.singular(/(shoe)s$/i,"$1"),this.singular(/(cris|ax|test)es$/i,"$1is"),this.singular(/(octop|vir)i$/i,"$1us"),this.singular(/(alias|status)es$/i,"$1"),this.singular(/^(ox)en/i,"$1"),this.singular(/(vert|ind)ices$/i,"$1ex"),this.singular(/(matr)ices$/i,"$1ix"),this.singular(/(quiz)zes$/i,"$1"),this.singular(/(database)s$/i,"$1"),this.irregular("person","people"),this.irregular("man","men"),this.irregular("child","children"),this.irregular("sex","sexes"),this.irregular("move","moves"),this.irregular("cow","kine"),this.uncountable("equipment"),this.uncountable("information"),this.uncountable("rice"),this.uncountable("money"),this.uncountable("species"),this.uncountable("series"),this.uncountable("fish"),this.uncountable("sheep"),this.uncountable("jeans")},PLURALS:function(){return this.inflections.plurals},SINGULARS:function(){return this.inflections.singulars},UNCOUNTABLES:function(){return this.inflections.uncountables},HUMANS:function(){return this.inflections.humans},plural:function(t,e){this.inflections.plurals.unshift([t,e])},singular:function(t,e){this.inflections.singulars.unshift([t,e])},uncountable:function(t){this.inflections.uncountables.unshift(t)},irregular:function(t,e){t.substr(0,1).toUpperCase()===e.substr(0,1).toUpperCase()?(this.plural(new RegExp("("+t.substr(0,1)+")"+t.substr(1)+"$","i"),"$1"+e.substr(1)),this.plural(new RegExp("("+e.substr(0,1)+")"+e.substr(1)+"$","i"),"$1"+e.substr(1)),this.singular(new RegExp("("+e.substr(0,1)+")"+e.substr(1)+"$","i"),"$1"+t.substr(1))):(this.plural(new RegExp(t.substr(0,1).toUpperCase()+t.substr(1)+"$"),e.substr(0,1).toUpperCase()+e.substr(1)),this.plural(new RegExp(t.substr(0,1).toLowerCase()+t.substr(1)+"$"),e.substr(0,1).toLowerCase()+e.substr(1)),this.plural(new RegExp(e.substr(0,1).toUpperCase()+e.substr(1)+"$"),e.substr(0,1).toUpperCase()+e.substr(1)),this.plural(new RegExp(e.substr(0,1).toLowerCase()+e.substr(1)+"$"),e.substr(0,1).toLowerCase()+e.substr(1)),this.singular(new RegExp(e.substr(0,1).toUpperCase()+e.substr(1)+"$"),t.substr(0,1).toUpperCase()+t.substr(1)),this.singular(new RegExp(e.substr(0,1).toLowerCase()+e.substr(1)+"$"),t.substr(0,1).toLowerCase()+t.substr(1)))},human:function(t,e){this.inflections.humans.push([t,e])},pluralize:function(t){for(var e=t.toLowerCase(),i=0;i<this.UNCOUNTABLES().length;i++)if(e==this.UNCOUNTABLES()[i])return t;for(i=0;i<this.PLURALS().length;i++){var s=this.PLURALS()[i][0],n=this.PLURALS()[i][1];if(s.test(t))return t.replace(s,n)}},singularize:function(t){for(var e=t.toLowerCase(),i=0;i<this.UNCOUNTABLES().length;i++)if(e===this.UNCOUNTABLES()[i])return t;for(i=0;i<this.SINGULARS().length;i++){var s=this.SINGULARS()[i][0],n=this.SINGULARS()[i][1];if(s.test(t))return t.replace(s,n)}},humanize:function(t){for(var e=0;e<this.HUMANS().length;e++){var i=this.HUMANS()[e][0],s=this.HUMANS()[e][1];i.test(t)&&(t=t.replace(i,s))}return this.split(t," ").toLowerCase()},split:function(t,e){e="$1"+(e=e||" ")+"$2";return(t=this.to_title_case(t).replace(/ /g,"")).replace(/([A-Z]+)([A-Z][a-z])/g,e).replace(/([a-z\d])([A-Z])/g,e)},underscore:function(t){return this.split(t,"_").toLowerCase()},readable:function(t,e){e=e||"_";e=new RegExp(e,"g");return this.to_title_case(t.replace(e," "))},slugify:function(t){return this.split(t,"-").toLowerCase()},to_title_case:function(t){return t.replace(/\w\S*/g,function(t){return t.charAt(0).toUpperCase()+t.substr(1).toLowerCase()})}},function(o){CPT_PCUtils.util.inflect.init(),CPT_PCUtils.toast_error=function(t,e,i){o(".cpt-pc-toast").remove(),Materialize.toast(t,e||3e3,"cpt-pc-toast cpt-pc-red",i,"bottom")},CPT_PCUtils.toast_success=function(t,e,i){o(".cpt-pc-toast").remove(),Materialize.toast(t,e||3e3,"cpt-pc-toast cpt-pc-green",i)},CPT_PCUtils._instantiate=function(t,e){function i(){}var s,n=Array.prototype.slice.call(arguments,1);return i.prototype=t.prototype,s=new i,t.apply(s,n),s},CPT_PCUtils.models.Base=Backbone.Model.extend({idAttribute:"ID",validation_error:function(t,e){return{field:t,message:e}},sync:function(t,e,i){var s;return(i=i||{}).cache=!1,_.isUndefined(CPT_PCUtils.nonce)||_.isNull(CPT_PCUtils.nonce)||(s=i.beforeSend,i.beforeSend=function(t){if(t.setRequestHeader("X-WP-Nonce",CPT_PCUtils.nonce),s)return s.apply(this,arguments)}),Backbone.sync(t,e,i)}}),CPT_PCUtils.collections.Base=Backbone.Collection.extend({last_element:function(){return this.at(this.size()-1)},sync:function(t,e,i){var s;return(i=i||{}).cache=!1,_.isUndefined(CPT_PCUtils.nonce)||_.isNull(CPT_PCUtils.nonce)||(s=i.beforeSend,i.beforeSend=function(t){if(t.setRequestHeader("X-WP-Nonce",CPT_PCUtils.nonce),s)return s.apply(this,arguments)}),Backbone.sync(t,e,i)}}),Backbone.View.prototype.CPT_PC_clear_errors=function(){return this.$(".CPT_PC-invalid").removeClass("CPT_PC-invalid"),this.$("select").trigger("CPT_PCclear"),this},Backbone.View.prototype.CPT_PC_display_errors=function(t){var i,s;if(t=t||this.model)return t=t instanceof Backbone.Model?t.validationError:t,i=this,s=o(),o.isArray(t)?_.each(t,function(t){e(t)}):e(t),s.not(".cpt-pc-no-focus").first().focus(),this.scroll_first_error(s.first()),this;function e(e){if("string"==typeof e)return CPT_PCUtils.toast_error(e);s=s.add(i.$("[data-field="+e.field+"]").addClass("cpt-pc-invalid").each(function(){var t=o(this);t.is("select")?t.trigger("cpt-pcerror",e.message):t.next("label").attr("data-error",e.message)}))}},Backbone.View.prototype.scroll_first_error=function(t){var e,i,s;return!(this instanceof CPT_PCUtils.util.Modal&&t.length)||(t=t.offset().top,e=this.$_content.offset().top,i=this.$_content.scrollTop(),s=this.$_content.outerHeight(),e<=t&&t<s+e-50)?this:void this.$_content.animate({scrollTop:i+t-e-40},200,"swing")},CPT_PCUtils.views.Base=Backbone.View.extend({render:function(){return this},modal:function(t,e){return CPT_PCUtils.util.modal(t,e)}}),CPT_PCUtils.util.ShowOptionsView=Backbone.View.extend({template:CPT_PCUtils.util.template("modals/custom-post-types"),initialize:function(t){this.template=CPT_PCUtils.util.template(t.tpl)},render:function(){return this.$el.html(this.template({model:this.model})),this}}),CPT_PCUtils.util.modal=function(t,i){(i=i||{})["max-width"]=i["max-width"]||"35%";var s=["events","model","collection","el","id","className","tagName","attributes"],t=(i.model instanceof Backbone.Model&&_.each(i.model.toJSON(),function(t,e){void 0===i[e]&&-1===_.indexOf(s,e)&&(i[e]=t)}),CPT_PCUtils._instantiate(t,i));if(!(!t instanceof CPT_PCUtils.util.Modal))return t.render().open();console.error&&console.error("View must be an instance of Modal")},CPT_PCUtils.util.Modal=Backbone.View.extend({className:"cpt-pc-modal",id:"cpt-pc-modal-base",$_content:"",data:{},initialize:function(t){this.beforeInitialize(t),this.data=t;var i=this;_.each(t,function(t,e){void 0===i[e]&&(i[e]=t)}),this.afterInitialize(t)},render:function(){var t;return this.$el.empty(),this.$el.appendTo("body"),this.data=_.extend({model:this.model},this.data),this.$el.html(this.template(this.data)),this.data["max-width"]?this.$el.css("max-width",this.data["max-width"]):this.$el.css("max-width",""),this.data.no_close?this.$el.find(".cpt-pc-modal-close").remove():this.$el.children(".cpt-pc-modal-close").length||this.$el.append('<a href="javascript:void(0)" class="cpt-pc-modal-action cpt-pc-modal-close cpt-pc-modal-close-x"><i class="cpt-pc-material-icons cpt-pc-right">clear</i></a>'),this.data.title&&((t=this.$el.find("h3.cpt-pc-modal-title")).length||(t=o('<h3 class="cpt-pc-modal-title"></h3>'),this.$el.find(".cpt-pc-modal-content").prepend(t)),t.html(this.data.title)),this.data.width&&this.$el.css("width",this.data.width),this.data.height&&this.$el.css("height",this.data.height+"px"),this.$_content=this.$el.find(".cpt-pc-modal-content"),this.$_content.find(".cpt-pc-tooltipped").tooltip({delay:50}),this.afterRender(),this.$el.on("autocompleteopen",_.bind(this.autocomplete_scroll,this)),this.$el.on("tvdpickeropen",_.bind(this.pickadate_scroll,this)),this},autocomplete_scroll:function(t,e){var t=o(t.target),i=t.parent().find("ul.ui-autocomplete"),i=t.outerHeight()+i.outerHeight(),t=t.offset().top,s=this.$_content.offset().top,n=t-s+this.$_content.scrollTop()-25;i+t>this.$_content.outerHeight()+s&&this.$_content.animate({scrollTop:n})},pickadate_scroll:function(t,e){var t=o(t.target),e=e.$root.outerHeight(!0)+40,t=t.offset().top-e/2,i=this.$_content.offset().top;t+e>this.$_content.outerHeight()+i?this.$_content.animate({scrollTop:e+t-i-this.$_content.outerHeight()+this.$_content.scrollTop()-25}):t<i&&this.$_content.animate({scrollTop:this.$_content.scrollTop()-(i-t)})},input_focus:function(e){var t=(e=e||this.$el).find("input:not(.CPT_PC-select-dropdown),textarea");t.filter(":visible").filter(":not(.CPT_PC-no-focus)").first().focus().select(),e.add(t).not(".CPT_PC-skip-modal-save").off("keyup.CPT_PC-save").on("keyup.CPT_PC-save",function(t){if(13===t.which)return"textarea"===this.tagName.toLowerCase()?event.preventDefault():e.find(".CPT_PC-modal-submit").filter(":visible").first().click(),!1})},afterRender:function(){return this},open:function(){var t=this,e=_.extend({in_duration:200,out_duration:300,dismissible:!0,ready:function(){t.onOpen.call(t),"function"==typeof t.afterOpen&&t.afterOpen.call(t),CPT_PCUtils.util.materialize(t.$el),t.input_focus(),"function"==typeof t.afterMaterialize&&t.afterMaterialize.call(t)},complete:function(){delete CPT_PCUtils.opened_modal_view,t.$el.css("width","").css("height",""),t.beforeClose.call(t),t.remove(),t.onClose.call(t),"function"==typeof t.afterClose&&t.afterClose.call(t)}},this.data);return this.modal_options=e,this.$el.modal(e).trigger("openModal"),CPT_PCUtils.opened_modal_view=this},close:function(){return this.$el.trigger("closeModal",this.modal_options),this},onOpen:function(){},onClose:function(){},beforeClose:function(){},showLoader:function(){var t=this.$el.find(".cpt-pc-modal-preloader");return t.length||(t=o(TVE_Dash.tpl("modal-loader",{})),this.$el.prepend(t)),t.css("top",this.$el.height()/2+this.$el.scrollTop()+"px"),t.fadeIn(),this.$el.addClass("cpt-pc-modal-disable"),this},hideLoader:function(){return this.$el.removeClass("cpt-pc-modal-disable"),this.$el.find(".cpt-pc-modal-preloader").fadeOut(),this},btnLoading:function(t){return jQuery(t).addClass("cpt-pc-disabled").prop("disabled",!0)},beforeInitialize:function(t){return this},afterInitialize:function(t){return this}}),CPT_PCUtils.util.ModalSteps=CPT_PCUtils.util.Modal.extend({stepClass:".cpt-pc-modal-step",currentStep:0,$step:null,events:{"click .cpt-pc-modal-next-step":"next","click .cpt-pc-modal-prev-step":"prev"},afterRender:function(){return this.steps=this.$el.find(this.stepClass).hide(),this.gotoStep(0),this},gotoStep:function(t){var e=this.steps.hide().eq(t).show(),i=this;return this.$step=e,setTimeout(function(){i.input_focus(e)},50),this.currentStep=t,this},next:function(){!1!==this.beforeNext()&&(this.gotoStep(this.currentStep+1),this.afterNext())},prev:function(){this.beforePrev(),this.gotoStep(this.currentStep-1),this.afterPrev()},beforeNext:function(){return this},afterNext:function(){return this},beforePrev:function(){return this},afterPrev:function(){return this}}),CPT_PCUtils.util.PageLoader=Backbone.View.extend({_state:"closed",render:function(){this.$el.html(CPT_PCUtils.util.template("page-loader",{})),this.$el.appendTo("body"),this.loader=this.$el.find("#CPT_PC-hide-onload")},open:function(){this.loader.show()},close:function(){var t=this;setTimeout(function(){t.loader.fadeOut(100)},200)}}),o(function(){})}(jQuery);